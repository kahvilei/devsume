@import "tailwindcss";

/*
  Theme Configuration
  ------------------
  All design tokens are defined here for easy theming
*/
@theme {
    /* Spacing System */
    --spacing-xxs: 0.125rem;
    --spacing-xs: 0.5rem;
    --spacing-sm: 1rem;
    --spacing-md: 2rem;
    --spacing-lg: 3rem;
    --spacing-xl: 4rem;
    --spacing: var(--spacing-xs); /* Base spacing unit */

    /* Layout */
    --spacing-content: 75rem;
    --spacing-border-width: 0.1rem;
    --spacing-button-height: 2.25rem;

    /* Color System */
    /* Primary palette */
    --color-primary: #e1226b;
    --color-secondary: #54c3d7;
    --color-tertiary: #76c972;
    --color-quaternary: #92b2e7;

    --color-success: #28a745;
    --color-info: #17a2b8;
    --color-warning: #ffc107;
    --color-danger: #dc3545;

    --color-disabled: #6c757d;

    /* UI colors */
    --color-background: #ffffff;
    --color-background-alt: #efeded;
    --color-foreground: #1f1f1f;
    --color-foreground-alt: #151515;

    /* Semantic colors */
    --color-headings: #3d3d3d;
    --color-link: var(--color-primary);
    --color-overlay: rgba(0, 0, 0, 0.5);

    /* Typography */
    --text-h1: 3rem;
    --text-h2: 1.5rem;
    --text-h3: 1.25rem;
    --text-h4: 1rem;
    --text-h5: 0.875rem;
    --text-h6: 0.75rem;
    --text-body: 1rem;

    --font-weight-h1-w: 700;
    --font-weight-h2-w: 400;
    --font-weight-h3-w: 700;
    --font-weight-h4-w: 600;
    --font-weight-h5-w: 400;
    --font-weight-h6-w: 400;
    --font-weight-body-w: 400;

    /* Borders and Radii */
    --radius-sm: 0.375rem;
    --radius-md: 0.625rem;
    --radius-lg: 0.625rem;
    --radius-xl: 0.875rem;
    --radius: var(--radius-sm); /* Base radius */
    --radius-circle: 50%;
    --radius-pill: 9999px;

    /* Animation */
    --transition-duration-fast: 150ms;
    --transition-duration-normal: 200ms;
    --transition-duration-slow: 300ms;
    --transition-timing: ease-in-out;
}

/*
  Global Base Styles
  ------------------
*/
body {
    @apply background-bg;
    font-weight: var(--font-weight-body-w);
}

/*
  Typography
  ------------------
*/
.heading, h1, h2, h3, h4, h5, h6 , .h1, .h2, .h3, .h4, .h5, .h6 {
    @apply text-headings;
    line-height: 1.2;
}

.h1, h1 {
    font-size: var(--text-h1);
    font-weight: var(--font-weight-h1-w);
}

.h2, h2 {
    font-size: var(--text-h2);
    font-weight: var(--font-weight-h2-w);
}

.h3, h3 {
    font-size: var(--text-h3);
    font-weight: var(--font-weight-h3-w);
}

.h4, h4 {
    font-size: var(--text-h4);
    font-weight: var(--font-weight-h4-w);
}

.h5, h5 {
    font-size: var(--text-h5);
    font-weight: var(--font-weight-h5-w);
}

.h6, h6 {
    font-size: var(--text-h6);
    font-weight: var(--font-weight-h6-w);
}

.body, p {
    font-size: var(--text-body);
    font-weight: var(--font-weight-body-w);
}

/*
  Utility Classes
  ------------------
*/
/* Layout utilities */
@utility flex-layout {
    @apply flex;
}

@utility flex-center {
    @apply flex items-center justify-center;
}

@utility flex-between {
    @apply flex justify-between items-center;
}

@utility flex-top {
    @apply flex items-start;
}

@utility flex-even {
    @apply flex justify-evenly;
}

@utility flex-right {
    @apply flex justify-end;
}

@utility flex-left {
    @apply flex justify-start;
}


/* Border utilities */

@utility border-rules {
    @apply outline outline-solid rounded outline-offset-[-1px];
    outline-width: var(--spacing-border-width);
}

@utility border-width {
    border-width: var(--spacing-border-width);
}

@utility separator {
    @apply border-dashed;
}

@utility separator-top {
    @apply separator border-t pt-xs;
}

@utility discreet-outline {
    @apply outline rounded outline-dashed outline-offset-[-1px];
}

@utility discreet-border {
    @apply outline rounded outline-dashed outline-offset-[-1px];
}

/* Interactive elements */
@utility interactive {
    @apply cursor-pointer transition-all;
    transition-duration: var(--transition-duration-normal);
    transition-timing-function: var(--transition-timing);
}

@utility grow-on-hover {
    @apply interactive hover:scale-105;
}

@utility focus-visible {
    @apply focus:outline-none focus:ring-2 focus:ring-primary;
}

/* Input styles */
@utility input-outline {
    @apply discreet-outline;
    @apply focus:outline-primary focus:outline-2;
    @apply hover:outline-2 hover:outline-primary;
    @apply transition-all;
}

@utility input-padding {
    padding: var(--spacing-xs);
}

/* Animation utility */
@utility transition-size {
    transition: height var(--transition-duration-normal) var(--transition-timing),
    width var(--transition-duration-normal) var(--transition-timing);
}

@keyframes stretchXRight {
    0% {
        transform: translateX(0) scaleX(1);
    }
    40% {
        transform: translateX(calc(40% + var(--spacing-xxs))) scaleX(1.3);
    }
    70% {
        transform: translateX(calc(80% + 1.5 * var(--spacing-xxs))) scaleX(1.1);
    }
    100% {
        transform: translateX(calc(100% + var(--spacing-xxs))) scaleX(1);
    }
}

@keyframes stretchXLeft {
    0% {
        transform: translateX(calc(100% + var(--spacing-xxs))) scaleX(1);
    }
    40% {
        transform: translateX(calc(60% + var(--spacing-xxs))) scaleX(1.3);
    }
    70% {
        transform: translateX(calc(20% + 0.5 * var(--spacing-xxs))) scaleX(1.1);
    }
    100% {
        transform: translateX(0) scaleX(1);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/*
   Clarity Styles
   -----------------
*/

@utility background-bg {
    @apply bg-background;
    @apply text-foreground border-foreground;
}

@utility background-bg-alt {
    @apply bg-background-alt;
    @apply text-foreground-alt border-foreground-alt;
}

@utility background-fg {
    @apply bg-foreground;
    @apply text-background border-background;
}

@utility background-fg-alt {
    @apply bg-foreground-alt;
    @apply text-background-alt border-background-alt;
}

.bg-primary {
    @apply bg-primary;
    @apply text-background border-primary;
}

.bg-secondary {
    @apply bg-secondary;
    @apply text-background border-secondary;
}

.bg-tertiary {
    @apply bg-tertiary;
    @apply text-background border-tertiary;
}

.bg-quaternary {
    @apply bg-quaternary;
    @apply text-background border-quaternary;
}

.bg-disabled {
    @apply bg-disabled;
    @apply text-foreground border-disabled;
}

@utility dimmed {
    @apply opacity-50;
}

@utility clarity-ghost {
    @apply discreet-border rounded;
}

.clarity-ghost {
    @apply clarity-ghost;
}

@utility clarity-subtle {
    @apply background-bg-alt rounded;
}

.clarity-subtle {
    @apply clarity-subtle;
}

@utility clarity-default {
    @apply border-rules rounded;
}

.clarity-default {
    @apply clarity-default;
}

@utility clarity-emphasis {
    @apply background-fg-alt rounded;
}

.clarity-emphasis {
    @apply clarity-emphasis;
}

@utility clarity-prominent {
    @apply background-fg rounded;
}

.clarity-prominent {
    @apply clarity-prominent;
}

@utility clarity-hover {
    +.clarity-ghost {
        @apply hover:outline-primary hover:outline-2;
    }
    +.clarity-subtle {
        @apply hover:outline-primary;
    }
    +.clarity-default {
        @apply hover:outline-primary;
    }
    +.clarity-emphasis {
        @apply hover:outline-primary;
    }
    +.clarity-prominent {
        @apply hover:outline-primary;
    }
}

@utility clarity-focus {
    +.clarity-ghost {
        @apply focus:outline-primary focus:outline-2;
    }
    +.clarity-subtle {
        @apply focus:outline-primary;
    }
    +.clarity-default {
        @apply focus:outline-primary;
    }
    +.clarity-emphasis {
        @apply focus:outline-primary;
    }
    +.clarity-prominent {
        @apply focus:outline-primary;
    }
}

@utility clarity-disabled {
    @apply opacity-50 cursor-not-allowed;
}

@utility clarity-active {
    +.active.clarity-ghost {
        @apply border-rules;
    }
}

/*
  Component Styles
  ------------------
*/

/* Button Component */
.btn {
    @apply border border-solid border-foreground rounded;
    border-width: var(--spacing-border-width);
    @apply interactive rounded
    flex items-center justify-center transition-all;
    height: var(--spacing-button-height);
    width: max-content;
    padding: var(--spacing-xs);
    gap: var(--spacing-xxs); /* Space between icon and text */
    line-height: 1;
}

/* Apply reduced left padding when an icon is present */
.btn.has-icon {
    padding-left: var(--spacing-xxs);
}

/* Icon styling */
.btn-icon {
    @apply flex items-center justify-center;
    height: 100%;
}

.btn-icon svg {
    height: 100%;
}

/* Default solid color buttons */
.btn.reverse {
    @apply bg-foreground text-background border-background;
}

.btn.reverse:not(:disabled):hover {
    @apply bg-background text-foreground;
}

.btn.primary {
    @apply bg-primary text-background border-primary;
}

.btn.primary:not(:disabled):hover {
    @apply bg-background text-primary;
}

.btn.secondary {
    @apply bg-secondary text-background border-secondary;
}

.btn.secondary:not(:disabled):hover {
    @apply bg-background text-secondary;
}

.btn.tertiary {
    @apply bg-tertiary text-background border-tertiary;
}

.btn.tertiary:not(:disabled):hover {
    @apply bg-background text-tertiary;
}

.btn.quaternary {
    @apply bg-quaternary text-background border-quaternary;
}

.btn.quaternary:not(:disabled):hover {
    @apply bg-background text-quaternary;
}

/* Outline buttons - base style */
.btn.outline {
    @apply bg-transparent border-foreground text-foreground;
}

/* Outline with color variants */
.btn.outline.primary {
    @apply border-primary text-primary;
}

.btn.outline.primary:not(:disabled):hover {
    @apply bg-primary text-background;
}

.btn.outline.secondary {
    @apply border-secondary text-secondary;
}

.btn.outline.secondary:not(:disabled):hover {
    @apply bg-secondary text-background;
}

.btn.outline.tertiary {
    @apply border-tertiary text-tertiary;
}

.btn.outline.tertiary:not(:disabled):hover {
    @apply bg-tertiary text-background;
}

.btn.outline.quaternary {
    @apply border-quaternary text-quaternary;
}

.btn.outline.quaternary:not(:disabled):hover {
    @apply bg-quaternary text-background;
}

/* Button sizes */
.btn.xs {
    height: calc(var(--spacing-button-height) * .65);
    @apply text-xs;
}

.btn.sm {
    height: calc(var(--spacing-button-height) * .85);
    @apply text-sm;
}

.btn.lg {
    @apply text-lg;
    height: calc(var(--spacing-button-height) * 1.25);
}

.btn.xl {
    @apply text-xl;
    height: calc(var(--spacing-button-height) * 1.5);
}

/* Default hover state - for buttons without specific color classes */
.btn:not(.primary):not(.secondary):not(.tertiary):not(.quaternary):not(.reverse):not(:disabled):hover {
    @apply bg-foreground text-background;
    transform: scale(1.05);
}

/* Scale transform for all buttons */
.btn:not(:disabled):hover {
    transform: scale(1.05);
}

/* Disabled state */
.btn:disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none !important;
}

/* MultiSelectFromDB Component */
.multi-selector-wrap {
    @apply rounded flex flex-col gap-xs w-full relative;
}

.multi-selector-controls {
    @apply transition-all relative ;
    height: min-content;
}

.multi-selector-header {
    @apply flex-between flex-top gap-xs;
}

.multi-selector-header .editable-text-wrap {
    height: 100%;
}

.multi-selector-selector {
    @apply flex flex-col mt-xs gap-xs overflow-hidden h-0 px-xs w-full transition-all outline-1;
    transition-duration: var(--transition-duration-normal);
}

.multi-selector-selector.open {
    @apply h-auto p-xs clarity-default;
}

.multi-selector-wrap ul {
    @apply flex flex-wrap gap-xs p-0 m-0;
    list-style: none;
}

.multi-selector-content {
    @apply clarity-ghost p-xs;
}

.multi-selector-wrap .buttons {
    @apply separator-top w-full flex-right;
}

.item-selector-placeholder{
    @apply dimmed text-sm italic;
}

.connector {
    @apply h-2;
    @apply left-2 bottom-[calc(-1.9*var(--spacing-xs))];
    position: absolute;
}

/* Binary Toggle Component */
.binary-toggle {
    @apply p-xxs clarity-default text-xs grow-on-hover;
    height: var(--spacing-button-height);
    user-focus: key;
}

.binary-toggle .toggle-switch {
    @apply flex w-full h-full justify-between;
    position: relative;
}

.binary-toggle .toggle-switch .toggle-slider {
    @apply clarity-prominent interactive;
    position: absolute;
    z-index: 0;
    top: 0;
    width: calc(50% - var(--spacing-xxs)/2);
    bottom: 0;
    transform: translateX(0);
}

.binary-toggle .toggle-1[aria-checked="true"] ~ .toggle-slider {
    animation-name: stretchXRight;
    animation-duration: var(--transition-duration-normal);
    animation-fill-mode: forwards;
}

.binary-toggle .toggle-2[aria-checked="true"] ~ .toggle-slider {
    animation-name: stretchXLeft;
    animation-duration: var(--transition-duration-normal);
    animation-fill-mode: forwards;
}

.binary-toggle .toggle-option {
    @apply text-center p-xxs px-xs z-10 relative cursor-pointer transition-colors h-full flex-center;
    transition-duration: var(--transition-duration-normal);
    width: 50%;
}

.binary-toggle .toggle-option[aria-checked="true"] {
    @apply text-foreground;
}

.binary-toggle .toggle-option[aria-checked="false"] {
    @apply text-background;
}

/* Resume Component */
.resume {
    @apply flex-even gap-xl w-full flex-col sm:flex-row;
}

.resume .right {
    @apply flex-2/5 flex w-full flex-col gap-md;
}

.resume .left {
    @apply flex-3/5 flex w-full flex-col gap-md;
}

.resume .title-description,
.resume section {
    @apply flex w-full flex-col gap-xs;
    line-height: 1.1;
}

/* ActionIcon Component */
.action-icon {
    @apply grow-on-hover flex-center rounded cursor-pointer transition-all relative focus-visible;
    @apply hover:background-bg-alt;
    width: var(--spacing-button-height);
    height: var(--spacing-button-height);
}

/* Size variants */
.action-icon.xs {
    @apply h-2 w-2;
}

.action-icon.sm {
    @apply h-3 w-3;
}

.action-icon.lg {
    @apply h-4 w-4;
}

.action-icon.xl {
    @apply h-5 w-5;
}

.action-icon.disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none !important;
}

/*
  Tooltip Component
  ------------------
*/
.tooltip-container {
    position: relative;
    display: inline-block;
}

.tooltip {
    position: absolute;
    @apply clarity-prominent p-xs py-xxs px-xs rounded opacity-0 transition-all text-sm;
    white-space: nowrap;
    pointer-events: none;
    z-index: 10;
    transition-duration: var(--transition-duration-normal);
}

/* Tooltip position variants */
.tooltip-below {
    bottom: -2rem;
    left: 50%;
    transform: translateX(-50%) translateY(0.5rem);
}

.tooltip-above {
    top: -2rem;
    left: 50%;
    transform: translateX(-50%) translateY(-0.5rem);
}

.tooltip-left {
    top: 50%;
    right: calc(100% + 0.5rem);
    transform: translateY(-50%) translateX(-0.5rem);
}

.tooltip-right {
    top: 50%;
    left: calc(100% + 0.5rem);
    transform: translateY(-50%) translateX(0.5rem);
}

/* Tooltip hover effects */
.tooltip-container:hover > .tooltip {
    @apply opacity-100;
}

.tooltip-container:hover > .tooltip-below {
    transform: translateX(-50%) translateY(0);
}

.tooltip-container:hover > .tooltip-above {
    transform: translateX(-50%) translateY(0);
}

.tooltip-container:hover > .tooltip-left {
    transform: translateY(-50%) translateX(0);
}

.tooltip-container:hover > .tooltip-right {
    transform: translateY(-50%) translateX(0);
}

/*
  EditableText Component - Updated with pencil icon
  ------------------
*/
.editable-text-wrap {
    position: relative;
    max-width: 100%;
    @apply input-padding;
}

/* Keep the existing EditableText styles */
input, textarea.text {
    @apply input-outline input-padding overflow-hidden;
    text-wrap: wrap;
    max-width: 100%;
}

.text.proxy {
    @apply h-full;
    text-wrap: wrap;
    opacity: 0;
}

textarea.text {
    @apply resize-none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

/*
  Modal Component
  ------------------
*/
.modal-overlay {
    @apply fixed inset-0 z-50 flex-center;
}

.modal-backdrop {
    @apply fixed inset-0 background-fg;
}

.modal-container {
    @apply background-bg rounded-lg clarity-default z-10 max-w-content mx-auto p-sm;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
}

.modal-header {
    @apply flex-between p-sm;
}

.modal-close {
    @apply interactive focus-visible rounded-full p-1;
    @apply hover:background-bg-alt;
}

.modal-body {
    @apply p-sm;
}

.modal-footer {
    @apply flex-between p-sm;
}

/*
  Pill Component
  ------------------
*/
.pill {
    @apply interactive flex items-center gap-xs p-xs rounded-pill;
    transition: all var(--transition-duration-fast) var(--transition-timing);
}

/* Size variants */
.pill.xs {
    @apply text-xs p-xxs;
    height: calc(var(--spacing-button-height) * .65);
}

.pill.sm {
    @apply text-sm;
    height: calc(var(--spacing-button-height) * .85);
}

.pill.md {
    height: var(--spacing-button-height);
}

.pill.lg {
    @apply text-lg;
    height: calc(var(--spacing-button-height) * 1.25);
}

.pill.xl {
    @apply text-xl;
    height: calc(var(--spacing-button-height) * 1.5);
}

.pill.disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none !important;
}

/*
   Chip
 */

.chip {
    @apply flex items-center gap-xs p-xs text-xs rounded-pill min-w-3 h-3 text-background;
}

/*
  DataQueryEditor Component Styles
  --------------------------------
  These styles can be added to globals.css or as a separate module
*/

/* Query Editor Base Container */
.query-editor {
    @apply flex flex-col w-full rounded relative;
}


/* Pills row - improved alignment and spacing */
.query-pills {
    @apply flex-between items-center p-xs rounded clarity-prominent;
}

.query-pills-group {
    @apply flex flex-wrap gap-xs;
}

/* Editor panel - smoother transitions */
.query-editor-panel {
    @apply background-bg transition-all;
    overflow: hidden;
    max-height: 80vh;
}

/* Section styling with smooth animations */
.query-section {
    @apply transition-all;
    display: none;
    opacity: 0;
    transform: translateY(-8px);
}

.query-section.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
    animation: fadeIn var(--transition-duration-normal) var(--transition-timing) forwards;
}

.query-section-content {
    @apply flex flex-col gap-xs py-xs;
}

/* Filter card styling */
.filter-card {
    @apply p-xs rounded transition-all interactive clarity-ghost;
    transform-origin: top;
}

.filter-card-header {
    @apply flex-between mb-xs;
}

.filter-number {
    @apply flex-center rounded-pill text-xs font-medium;
    background-color: var(--color-background-alt);
    color: var(--color-foreground-alt);
    min-width: 1.5rem;
    height: 1.5rem;
    transition: all var(--transition-duration-normal) var(--transition-timing);
}

.filter-card-active .filter-number {
    background-color: var(--color-primary);
    color: var(--color-background);
}

/* Improved responsive layout for filter rows */
.filter-row {
    @apply flex flex-col flex-between sm:flex-row gap-xs clarity-ghost p-xs;
}

.filter-group {
    @apply flex-1 flex flex-col gap-xs;
}

/* Improved field styling */

.filter-fields {
    @apply flex items-center flex-1 gap-xs;
}

.filter-field {
    @apply flex-1 transition-all;
}

.input.filter-field {
    @apply input-outline;
}

.value-input-wrapper {
    @apply relative;
}

/* Remove button - improved hover states */

.filter-remove:hover {
    @apply background-bg-alt;
}

/* Sort section styling - improved container */
.sort-container, .limit-container {
    @apply p-sm rounded transition-all;
}

.sort-select {
    @apply mb-sm w-full input-outline;
}

.sort-preview {
    @apply flex-between p-xs;
}

.sort-icon {
    @apply text-primary text-lg font-bold;
}

/* Limit section styling - improved controls */
.limit-input-group {
    @apply flex items-center gap-xs mb-sm;
}

.limit-input {
    @apply input-outline;
}

/* select field */
select {
    @apply p-xs;
}